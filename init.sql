drop table if exists players;
drop table if exists clans;
drop table if exists clans_players;

create table players(
    player_id bigint generated always as identity ,
    gold bigint not null,
    player_username varchar(12) not null unique,
    primary key (player_id)
);

create table clans(
    clan_id bigint generated always as identity,
    gold bigint,
    clan_name varchar(12) not null unique,
    primary key (clan_id)
);

create table clans_players(
    clan_id bigint not null,
    player_id bigint unique not null,
    foreign key (clan_id) references clans(clan_id) on delete cascade,
    foreign key (player_id) references players(player_id) on delete cascade
);

create table logs(
    log_id bigint generated always as identity,
    log_message varchar(255) not null,
    log_error varchar(50),
    log_level smallint not null,
    created_at timestamp not null default current_timestamp
);

insert into clans (gold, clan_name)
VALUES (0, 'clan_1'),
       (0, 'clan_2'),
       (0, 'clan_3'),
       (0, 'clan_4'),
       (0, 'clan_5'),
       (0, 'clan_6'),
       (0, 'clan_7'),
       (0, 'clan_8'),
       (0, 'clan_9'),
       (0, 'clan_10');

insert into players (gold, player_username)
VALUES (1000, 'player_1'),
       (1000, 'player_2'),
       (1000, 'player_3'),
       (1000, 'player_4'),
       (1000, 'player_5'),
       (1000, 'player_6'),
       (1000, 'player_7'),
       (1000, 'player_8'),
       (1000, 'player_9'),
       (1000, 'player_10'),
       (1000, 'player_11'),
       (1000, 'player_12'),
       (1000, 'player_13'),
       (1000, 'player_14'),
       (1000, 'player_15'),
       (1000, 'player_16'),
       (1000, 'player_17'),
       (1000, 'player_18'),
       (1000, 'player_19'),
       (1000, 'player_20'),
       (1000, 'player_21'),
       (1000, 'player_22'),
       (1000, 'player_23'),
       (1000, 'player_24'),
       (1000, 'player_25'),
       (1000, 'player_26'),
       (1000, 'player_27'),
       (1000, 'player_28'),
       (1000, 'player_29'),
       (1000, 'player_30'),
       (1000, 'player_31'),
       (1000, 'player_32'),
       (1000, 'player_33'),
       (1000, 'player_34'),
       (1000, 'player_35'),
       (1000, 'player_36'),
       (1000, 'player_37'),
       (1000, 'player_38'),
       (1000, 'player_39'),
       (1000, 'player_40'),
       (1000, 'player_41'),
       (1000, 'player_42'),
       (1000, 'player_43'),
       (1000, 'player_44'),
       (1000, 'player_45'),
       (1000, 'player_46'),
       (1000, 'player_47'),
       (1000, 'player_48'),
       (1000, 'player_49'),
       (1000, 'player_50'),
       (1000, 'player_51'),
       (1000, 'player_52'),
       (1000, 'player_53'),
       (1000, 'player_54'),
       (1000, 'player_55'),
       (1000, 'player_56'),
       (1000, 'player_57'),
       (1000, 'player_58'),
       (1000, 'player_59'),
       (1000, 'player_60'),
       (1000, 'player_61'),
       (1000, 'player_62'),
       (1000, 'player_63'),
       (1000, 'player_64'),
       (1000, 'player_65'),
       (1000, 'player_66'),
       (1000, 'player_67'),
       (1000, 'player_68'),
       (1000, 'player_69'),
       (1000, 'player_70'),
       (1000, 'player_71'),
       (1000, 'player_72'),
       (1000, 'player_73'),
       (1000, 'player_74'),
       (1000, 'player_75'),
       (1000, 'player_76'),
       (1000, 'player_77'),
       (1000, 'player_78'),
       (1000, 'player_79'),
       (1000, 'player_80'),
       (1000, 'player_81'),
       (1000, 'player_82'),
       (1000, 'player_83'),
       (1000, 'player_84'),
       (1000, 'player_85'),
       (1000, 'player_86'),
       (1000, 'player_87'),
       (1000, 'player_88'),
       (1000, 'player_89'),
       (1000, 'player_90'),
       (1000, 'player_91'),
       (1000, 'player_92'),
       (1000, 'player_93'),
       (1000, 'player_94'),
       (1000, 'player_95'),
       (1000, 'player_96'),
       (1000, 'player_97'),
       (1000, 'player_98'),
       (1000, 'player_99'),
       (1000, 'player_100');

insert into clans_players
values (1, 1),
       (1, 2),
       (1, 3),
       (1, 4),
       (1, 5),
       (1, 6),
       (1, 7),
       (1, 8),
       (1, 9),
       (1, 10),
       (2, 11),
       (2, 12),
       (2, 13),
       (2, 14),
       (2, 15),
       (2, 16),
       (2, 17),
       (2, 18),
       (2, 19),
       (2, 20),
       (3, 21),
       (3, 22),
       (3, 23),
       (3, 24),
       (3, 25),
       (3, 26),
       (3, 27),
       (3, 28),
       (3, 29),
       (3, 30),
       (4, 31),
       (4, 32),
       (4, 33),
       (4, 34),
       (4, 35),
       (4, 36),
       (4, 37),
       (4, 38),
       (4, 39),
       (4, 40),
       (5, 41),
       (5, 42),
       (5, 43),
       (5, 44),
       (5, 45),
       (5, 46),
       (5, 47),
       (5, 48),
       (5, 49),
       (5, 50),
       (6, 51),
       (6, 52),
       (6, 53),
       (6, 54),
       (6, 55),
       (6, 56),
       (6, 57),
       (6, 58),
       (6, 59),
       (6, 60),
       (7, 61),
       (7, 62),
       (7, 63),
       (7, 64),
       (7, 65),
       (7, 66),
       (7, 67),
       (7, 68),
       (7, 69),
       (7, 70),
       (8, 71),
       (8, 72),
       (8, 73),
       (8, 74),
       (8, 75),
       (8, 76),
       (8, 77),
       (8, 78),
       (8, 79),
       (8, 80),
       (9, 81),
       (9, 82),
       (9, 83),
       (9, 84),
       (9, 85),
       (9, 86),
       (9, 87),
       (9, 88),
       (9, 89),
       (9, 90),
       (10, 91),
       (10, 92),
       (10, 93),
       (10, 94),
       (10, 95),
       (10, 96),
       (10, 97),
       (10, 98),
       (10, 99),
       (10, 100);